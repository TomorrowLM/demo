{"version":3,"file":"preload.js","mappings":";;;;;;;;;AAAA,0IAA2D;;;;;;;;;;;;ACA9C;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,iDAAiD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC,kBAAkB,KAAK;AAC9D;;;;;;;;;;;ACjGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,GAAG,mBAAmB,GAAG,iBAAiB,GAAG,+BAA+B,GAAG,yBAAyB,GAAG,yBAAyB;AAC1J,gBAAgB,mBAAO,CAAC,mEAAS;AACjC,gBAAgB,mBAAO,CAAC,mEAAS;AACjC;AACA;AACA;AACA,aAAa,YAAY;AACzB,CAAC;AACD,yBAAyB,WAAW;AACpC;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD,yBAAyB,KAAK;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;;;;;;;;;;;AC1Ha;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,uBAAuB,GAAG,4BAA4B,GAAG,kBAAkB;AACvG,gBAAgB,mBAAO,CAAC,mEAAS;AACjC,gBAAgB,mBAAO,CAAC,mEAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,CAAC,sCAAsC,kBAAkB,KAAK;AAC9D;AACA,oCAAoC,uBAAuB;AAC3D,6CAA6C,4BAA4B;AACzE;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gDAAgD,uBAAuB,KAAK;AAC7E;AACA;AACA,aAAa;AACb;AACA,yBAAyB;AACzB;;;;;;;;;;;ACxHa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB,GAAG,sBAAsB,GAAG,eAAe,GAAG,aAAa;AAC/E;AACA,qBAAqB,mBAAO,CAAC,6EAAc;AAC3C;AACA;AACA,0BAA0B;AAC1B;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,qBAAqB;AAClE,6BAA6B,WAAW;AACxC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA,SAAS;AACT;AACA;AACA,CAAC,4BAA4B,aAAa,KAAK;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,+CAA+C;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,4BAA4B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,mEAAmE,eAAe,iEAAiE,aAAa,6BAA6B,SAAS;AACtM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8CAA8C,sBAAsB,KAAK;AAC1E,uBAAuB,mBAAO,CAAC,iFAAgB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;;;;;;;;;;AC9Va;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8CAA8C,sBAAsB,KAAK;AAC1E;;;;;;;;;;;ACvDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,GAAG,uBAAuB,GAAG,qBAAqB,GAAG,eAAe,GAAG,mBAAmB,GAAG,gBAAgB,GAAG,kBAAkB,GAAG,mBAAmB,GAAG,eAAe,GAAG,gBAAgB,GAAG,gBAAgB,GAAG,iBAAiB,GAAG,sBAAsB,GAAG,kBAAkB;AACrS,oBAAoB,mBAAO,CAAC,+EAAe;AAC3C,8CAA6C,EAAE,qCAAqC,oCAAoC,EAAC;AACzH,uBAAuB,mBAAO,CAAC,qFAAkB;AACjD,kDAAiD,EAAE,qCAAqC,2CAA2C,EAAC;AACpI;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;;;;;;;;;;AC3Fa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAO,CAAC,qFAAsB;AACnD,uBAAuB,mBAAO,CAAC,2GAAiC;AAChE;AACA,QAAQ,6BAA6B,EAAE,mBAAO,CAAC,0BAAU;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,6GAA6G,kBAAkB;AAC/H,KAAK;AACL,0GAA0G,gBAAgB;AAC1H;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe;AACf;;;;;;;;;;;ACtLa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,uCAAuC,GAAG,+BAA+B,GAAG,8BAA8B,GAAG,iCAAiC,GAAG,uBAAuB,GAAG,8BAA8B,GAAG,6BAA6B,GAAG,kCAAkC,GAAG,8BAA8B,GAAG,kCAAkC,GAAG,8BAA8B,GAAG,8BAA8B,GAAG,+BAA+B,GAAG,+BAA+B,GAAG,0BAA0B,GAAG,4BAA4B,GAAG,wBAAwB,GAAG,wBAAwB,GAAG,qBAAqB,GAAG,+BAA+B,GAAG,0CAA0C,GAAG,qCAAqC,GAAG,mCAAmC,GAAG,yBAAyB,GAAG,yBAAyB,GAAG,4BAA4B,GAAG,kCAAkC,GAAG,2BAA2B,GAAG,8BAA8B,GAAG,0BAA0B,GAAG,2BAA2B,GAAG,oCAAoC,GAAG,wBAAwB;AAC1lC,wBAAwB;AACxB,oCAAoC;AACpC,2BAA2B;AAC3B,0BAA0B;AAC1B,8BAA8B;AAC9B,2BAA2B;AAC3B,kCAAkC;AAClC,4BAA4B;AAC5B,yBAAyB;AACzB,yBAAyB;AACzB,mCAAmC;AACnC,qCAAqC;AACrC,0CAA0C;AAC1C,+BAA+B;AAC/B,qBAAqB;AACrB,wBAAwB;AACxB,wBAAwB;AACxB,4BAA4B;AAC5B,0BAA0B;AAC1B,+BAA+B;AAC/B,+BAA+B;AAC/B,8BAA8B;AAC9B,8BAA8B;AAC9B,kCAAkC;AAClC,8BAA8B;AAC9B,kCAAkC;AAClC,6BAA6B;AAC7B,8BAA8B;AAC9B,uBAAuB;AACvB,iCAAiC;AACjC,8BAA8B;AAC9B,+BAA+B;AAC/B,uCAAuC;AACvC,8BAA8B;AAC9B;;;;;;;;;;ACpDA,gEAAoC;;;;;;;;;;;;ACAvB;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAO,CAAC,iHAAiC;AAChE;AACA,mBAAmB,mBAAO,CAAC,8GAAsC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;;;;;;;;;;;AC9Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,yBAAyB;AACrD,yBAAyB;AACzB,yBAAyB;AACzB;;;;;;;;;;;ACpBA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;ACtBA;;AAEA,+IAA2D;AAC3D,2JAAiE","sources":["webpack:///../../node_modules/@theia/core/electron-shared/electron/index.js?","webpack:///../../node_modules/@theia/core/lib/common/array-utils.js?","webpack:///../../node_modules/@theia/core/lib/common/cancellation.js?","webpack:///../../node_modules/@theia/core/lib/common/disposable.js?","webpack:///../../node_modules/@theia/core/lib/common/event.js?","webpack:///../../node_modules/@theia/core/lib/common/prioritizeable.js?","webpack:///../../node_modules/@theia/core/lib/common/types.js?","webpack:///../../node_modules/@theia/core/lib/electron-browser/preload.js?","webpack:///../../node_modules/@theia/core/lib/electron-common/electron-api.js?","webpack:///../../node_modules/@theia/electron/shared/electron/index.js?","webpack:///../../node_modules/@theia/filesystem/lib/electron-browser/preload.js?","webpack:///../../node_modules/@theia/filesystem/lib/electron-common/electron-api.js?","webpack:///external node-commonjs \"electron\"?","webpack:///webpack/bootstrap?","webpack:///./src-gen/frontend/preload.js?"],"sourcesContent":["module.exports = require('@theia/electron/shared/electron');\n","\"use strict\";\n// *****************************************************************************\n// Copyright (C) 2023 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayUtils = void 0;\nvar ArrayUtils;\n(function (ArrayUtils) {\n    ArrayUtils.TailImpl = {\n        tail() {\n            return this[this.length - 1];\n        },\n    };\n    ArrayUtils.HeadAndChildrenImpl = {\n        head() {\n            return this[0];\n        },\n        children() {\n            return Object.assign(this.slice(1), ArrayUtils.TailImpl);\n        }\n    };\n    function asTail(array) {\n        return Object.assign(array, ArrayUtils.TailImpl);\n    }\n    ArrayUtils.asTail = asTail;\n    function asHeadAndTail(array) {\n        return Object.assign(array, ArrayUtils.HeadAndChildrenImpl, ArrayUtils.TailImpl);\n    }\n    ArrayUtils.asHeadAndTail = asHeadAndTail;\n    let Sort;\n    (function (Sort) {\n        Sort[Sort[\"LeftBeforeRight\"] = -1] = \"LeftBeforeRight\";\n        Sort[Sort[\"RightBeforeLeft\"] = 1] = \"RightBeforeLeft\";\n        Sort[Sort[\"Equal\"] = 0] = \"Equal\";\n    })(Sort = ArrayUtils.Sort || (ArrayUtils.Sort = {}));\n    // Copied from https://github.com/microsoft/vscode/blob/9c29becfad5f68270b9b23efeafb147722c5feba/src/vs/base/common/arrays.ts\n    /**\n     * Performs a binary search algorithm over a sorted collection. Useful for cases\n     * when we need to perform a binary search over something that isn't actually an\n     * array, and converting data to an array would defeat the use of binary search\n     * in the first place.\n     *\n     * @param length The collection length.\n     * @param compareToKey A function that takes an index of an element in the\n     *   collection and returns zero if the value at this index is equal to the\n     *   search key, a negative number if the value precedes the search key in the\n     *   sorting order, or a positive number if the search key precedes the value.\n     * @return A non-negative index of an element, if found. If not found, the\n     *   result is -(n+1) (or ~n, using bitwise notation), where n is the index\n     *   where the key should be inserted to maintain the sorting order.\n     */\n    function binarySearch2(length, compareToKey) {\n        let low = 0;\n        let high = length - 1;\n        while (low <= high) {\n            const mid = ((low + high) / 2) | 0;\n            const comp = compareToKey(mid);\n            if (comp < 0) {\n                low = mid + 1;\n            }\n            else if (comp > 0) {\n                high = mid - 1;\n            }\n            else {\n                return mid;\n            }\n        }\n        return -(low + 1);\n    }\n    ArrayUtils.binarySearch2 = binarySearch2;\n    function partition(array, filter) {\n        const pass = [];\n        const fail = [];\n        array.forEach((e, idx, arr) => (filter(e, idx, arr) ? pass : fail).push(e));\n        return [pass, fail];\n    }\n    ArrayUtils.partition = partition;\n    /**\n     * @returns New array with all falsy values removed. The original array IS NOT modified.\n     */\n    function coalesce(array) {\n        return array.filter(e => !!e);\n    }\n    ArrayUtils.coalesce = coalesce;\n})(ArrayUtils = exports.ArrayUtils || (exports.ArrayUtils = {}));\n//# sourceMappingURL=array-utils.js.map","\"use strict\";\n// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation and others. All rights reserved.\n *  Licensed under the MIT License. See https://github.com/Microsoft/vscode/blob/master/LICENSE.txt for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkCancelled = exports.isCancelled = exports.cancelled = exports.CancellationTokenSource = exports.CancellationError = exports.CancellationToken = void 0;\nconst event_1 = require(\"./event\");\nconst types_1 = require(\"./types\");\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst shortcutEvent = Object.freeze(Object.assign(function (callback, context) {\n    const handle = setTimeout(callback.bind(context), 0);\n    return { dispose() { clearTimeout(handle); } };\n}, {\n    get maxListeners() { return 0; },\n    set maxListeners(maxListeners) { }\n}));\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: event_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: shortcutEvent\n    });\n    function is(value) {\n        return (0, types_1.isObject)(value) && (value === CancellationToken.None\n            || value === CancellationToken.Cancelled\n            || ((0, types_1.isBoolean)(value.isCancellationRequested) && !!value.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nclass CancellationError extends Error {\n    constructor() {\n        super('Canceled');\n        this.name = this.message;\n    }\n}\nexports.CancellationError = CancellationError;\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this._emitter = undefined;\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new event_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else if (this._token !== CancellationToken.Cancelled) {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        this.cancel();\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\nconst cancelledMessage = 'Cancelled';\nfunction cancelled() {\n    return new Error(cancelledMessage);\n}\nexports.cancelled = cancelled;\nfunction isCancelled(err) {\n    return !!err && err.message === cancelledMessage;\n}\nexports.isCancelled = isCancelled;\nfunction checkCancelled(token) {\n    if (!!token && token.isCancellationRequested) {\n        throw cancelled();\n    }\n}\nexports.checkCancelled = checkCancelled;\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.disposableTimeout = exports.DisposableGroup = exports.DisposableCollection = exports.Disposable = void 0;\nconst event_1 = require(\"./event\");\nconst types_1 = require(\"./types\");\nvar Disposable;\n(function (Disposable) {\n    function is(arg) {\n        return (0, types_1.isObject)(arg) && (0, types_1.isFunction)(arg.dispose);\n    }\n    Disposable.is = is;\n    function create(func) {\n        return { dispose: func };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n/**\n * Ensures that every reference to {@link Disposable.NULL} returns a new object,\n * as sharing a disposable between multiple {@link DisposableCollection} can have unexpected side effects\n */\nObject.defineProperty(Disposable, 'NULL', {\n    configurable: false,\n    enumerable: true,\n    get() {\n        return { dispose: () => { } };\n    }\n});\nclass DisposableCollection {\n    constructor(...toDispose) {\n        this.disposables = [];\n        this.onDisposeEmitter = new event_1.Emitter();\n        this.disposingElements = false;\n        toDispose.forEach(d => this.push(d));\n    }\n    /**\n     * This event is fired only once\n     * on first dispose of not empty collection.\n     */\n    get onDispose() {\n        return this.onDisposeEmitter.event;\n    }\n    checkDisposed() {\n        if (this.disposed && !this.disposingElements) {\n            this.onDisposeEmitter.fire(undefined);\n            this.onDisposeEmitter.dispose();\n        }\n    }\n    get disposed() {\n        return this.disposables.length === 0;\n    }\n    dispose() {\n        if (this.disposed || this.disposingElements) {\n            return;\n        }\n        this.disposingElements = true;\n        while (!this.disposed) {\n            try {\n                this.disposables.pop().dispose();\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n        this.disposingElements = false;\n        this.checkDisposed();\n    }\n    push(disposable) {\n        const disposables = this.disposables;\n        disposables.push(disposable);\n        const originalDispose = disposable.dispose.bind(disposable);\n        const toRemove = Disposable.create(() => {\n            const index = disposables.indexOf(disposable);\n            if (index !== -1) {\n                disposables.splice(index, 1);\n            }\n            this.checkDisposed();\n        });\n        disposable.dispose = () => {\n            toRemove.dispose();\n            disposable.dispose = originalDispose;\n            originalDispose();\n        };\n        return toRemove;\n    }\n    pushAll(disposables) {\n        return disposables.map(disposable => this.push(disposable));\n    }\n}\nexports.DisposableCollection = DisposableCollection;\nvar DisposableGroup;\n(function (DisposableGroup) {\n    function canPush(candidate) {\n        return Boolean(candidate && candidate.push);\n    }\n    DisposableGroup.canPush = canPush;\n    function canAdd(candidate) {\n        return Boolean(candidate && candidate.add);\n    }\n    DisposableGroup.canAdd = canAdd;\n})(DisposableGroup = exports.DisposableGroup || (exports.DisposableGroup = {}));\nfunction disposableTimeout(...args) {\n    const handle = setTimeout(...args);\n    return { dispose: () => clearTimeout(handle) };\n}\nexports.disposableTimeout = disposableTimeout;\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncEmitter = exports.WaitUntilEvent = exports.Emitter = exports.Event = void 0;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst disposable_1 = require(\"./disposable\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    function getMaxListeners(event) {\n        const { maxListeners } = event;\n        return typeof maxListeners === 'number' ? maxListeners : 0;\n    }\n    Event.getMaxListeners = getMaxListeners;\n    function setMaxListeners(event, maxListeners) {\n        if (typeof event.maxListeners === 'number') {\n            return event.maxListeners = maxListeners;\n        }\n        return maxListeners;\n    }\n    Event.setMaxListeners = setMaxListeners;\n    function addMaxListeners(event, add) {\n        if (typeof event.maxListeners === 'number') {\n            return event.maxListeners += add;\n        }\n        return add;\n    }\n    Event.addMaxListeners = addMaxListeners;\n    Event.None = Object.assign(function () { return _disposable; }, {\n        get maxListeners() { return 0; },\n        set maxListeners(maxListeners) { }\n    });\n    /**\n     * Given an event and a `map` function, returns another event which maps each element\n     * through the mapping function.\n     */\n    function map(event, mapFunc) {\n        return Object.assign((listener, thisArgs, disposables) => event(i => listener.call(thisArgs, mapFunc(i)), undefined, disposables), {\n            get maxListeners() { return 0; },\n            set maxListeners(maxListeners) { }\n        });\n    }\n    Event.map = map;\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    get length() {\n        return this._callbacks && this._callbacks.length || 0;\n    }\n    add(callback, context = undefined, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = undefined) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0; i < this._callbacks.length; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    // tslint:disable-next-line:typedef\n    [Symbol.iterator]() {\n        if (!this._callbacks) {\n            return [][Symbol.iterator]();\n        }\n        const callbacks = this._callbacks.slice(0);\n        const contexts = this._contexts.slice(0);\n        return callbacks.map((callback, i) => (...args) => callback.apply(contexts[i], args))[Symbol.iterator]();\n    }\n    invoke(...args) {\n        const ret = [];\n        for (const callback of this) {\n            try {\n                ret.push(callback(...args));\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n        this._disposed = false;\n        this._leakWarnCountdown = 0;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = Object.assign((listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const removeMaxListenersCheck = this.checkMaxListeners(Event.getMaxListeners(this._event));\n                const result = {\n                    dispose: () => {\n                        if (removeMaxListenersCheck) {\n                            removeMaxListenersCheck();\n                        }\n                        result.dispose = Emitter._noop;\n                        if (!this._disposed) {\n                            this._callbacks.remove(listener, thisArgs);\n                            result.dispose = Emitter._noop;\n                            if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                                this._options.onLastListenerRemove(this);\n                            }\n                        }\n                    }\n                };\n                if (disposable_1.DisposableGroup.canPush(disposables)) {\n                    disposables.push(result);\n                }\n                else if (disposable_1.DisposableGroup.canAdd(disposables)) {\n                    disposables.add(result);\n                }\n                return result;\n            }, {\n                maxListeners: Emitter.LEAK_WARNING_THRESHHOLD\n            });\n        }\n        return this._event;\n    }\n    checkMaxListeners(maxListeners) {\n        if (maxListeners === 0 || !this._callbacks) {\n            return undefined;\n        }\n        const listenerCount = this._callbacks.length;\n        if (listenerCount <= maxListeners) {\n            return undefined;\n        }\n        const popStack = this.pushLeakingStack();\n        this._leakWarnCountdown -= 1;\n        if (this._leakWarnCountdown <= 0) {\n            // only warn on first exceed and then every time the limit\n            // is exceeded by 50% again\n            this._leakWarnCountdown = maxListeners * 0.5;\n            let topStack;\n            let topCount = 0;\n            this._leakingStacks.forEach((stackCount, stack) => {\n                if (!topStack || topCount < stackCount) {\n                    topStack = stack;\n                    topCount = stackCount;\n                }\n            });\n            // eslint-disable-next-line max-len\n            console.warn(`Possible Emitter memory leak detected. ${listenerCount} listeners added. Use event.maxListeners to increase the limit (${maxListeners}). MOST frequent listener (${topCount}):`);\n            console.warn(topStack);\n        }\n        return popStack;\n    }\n    pushLeakingStack() {\n        if (!this._leakingStacks) {\n            this._leakingStacks = new Map();\n        }\n        const stack = new Error().stack.split('\\n').slice(3).join('\\n');\n        const count = (this._leakingStacks.get(stack) || 0);\n        this._leakingStacks.set(stack, count + 1);\n        return () => this.popLeakingStack(stack);\n    }\n    popLeakingStack(stack) {\n        if (!this._leakingStacks) {\n            return;\n        }\n        const count = (this._leakingStacks.get(stack) || 0);\n        this._leakingStacks.set(stack, count - 1);\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke(event);\n        }\n    }\n    /**\n     * Process each listener one by one.\n     * Return `false` to stop iterating over the listeners, `true` to continue.\n     */\n    async sequence(processor) {\n        if (this._callbacks) {\n            for (const listener of this._callbacks) {\n                if (!await processor(listener)) {\n                    break;\n                }\n            }\n        }\n    }\n    dispose() {\n        if (this._leakingStacks) {\n            this._leakingStacks.clear();\n            this._leakingStacks = undefined;\n        }\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n        this._disposed = true;\n    }\n}\nexports.Emitter = Emitter;\nEmitter.LEAK_WARNING_THRESHHOLD = 175;\nEmitter._noop = function () { };\nvar WaitUntilEvent;\n(function (WaitUntilEvent) {\n    /**\n     * Fire all listeners in the same tick.\n     *\n     * Use `AsyncEmitter.fire` to fire listeners async one after another.\n     */\n    async function fire(emitter, event, timeout, token = cancellation_1.CancellationToken.None) {\n        const waitables = [];\n        const asyncEvent = Object.assign(event, {\n            token,\n            waitUntil: (thenable) => {\n                if (Object.isFrozen(waitables)) {\n                    throw new Error('waitUntil cannot be called asynchronously.');\n                }\n                waitables.push(thenable);\n            }\n        });\n        try {\n            emitter.fire(asyncEvent);\n            // Asynchronous calls to `waitUntil` should fail.\n            Object.freeze(waitables);\n        }\n        finally {\n            delete asyncEvent['waitUntil'];\n        }\n        if (!waitables.length) {\n            return;\n        }\n        if (timeout !== undefined) {\n            await Promise.race([Promise.all(waitables), new Promise(resolve => setTimeout(resolve, timeout))]);\n        }\n        else {\n            await Promise.all(waitables);\n        }\n    }\n    WaitUntilEvent.fire = fire;\n})(WaitUntilEvent = exports.WaitUntilEvent || (exports.WaitUntilEvent = {}));\nconst cancellation_1 = require(\"./cancellation\");\nclass AsyncEmitter extends Emitter {\n    /**\n     * Fire listeners async one after another.\n     */\n    fire(event, token = cancellation_1.CancellationToken.None, promiseJoin) {\n        const callbacks = this._callbacks;\n        if (!callbacks) {\n            return Promise.resolve();\n        }\n        const listeners = [...callbacks];\n        if (this.deliveryQueue) {\n            return this.deliveryQueue = this.deliveryQueue.then(() => this.deliver(listeners, event, token, promiseJoin));\n        }\n        return this.deliveryQueue = this.deliver(listeners, event, token, promiseJoin);\n    }\n    async deliver(listeners, event, token, promiseJoin) {\n        for (const listener of listeners) {\n            if (token.isCancellationRequested) {\n                return;\n            }\n            const waitables = [];\n            const asyncEvent = Object.assign(event, {\n                token,\n                waitUntil: (thenable) => {\n                    if (Object.isFrozen(waitables)) {\n                        throw new Error('waitUntil cannot be called asynchronously.');\n                    }\n                    if (promiseJoin) {\n                        thenable = promiseJoin(thenable, listener);\n                    }\n                    waitables.push(thenable);\n                }\n            });\n            try {\n                listener(event);\n                // Asynchronous calls to `waitUntil` should fail.\n                Object.freeze(waitables);\n            }\n            catch (e) {\n                console.error(e);\n            }\n            finally {\n                delete asyncEvent['waitUntil'];\n            }\n            if (!waitables.length) {\n                return;\n            }\n            try {\n                await Promise.all(waitables);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n    }\n}\nexports.AsyncEmitter = AsyncEmitter;\n//# sourceMappingURL=event.js.map","\"use strict\";\n// *****************************************************************************\n// Copyright (C) 2023 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Prioritizeable = void 0;\nvar Prioritizeable;\n(function (Prioritizeable) {\n    async function toPrioritizeable(rawValue, getPriority) {\n        if (rawValue instanceof Array) {\n            return Promise.all(rawValue.map(v => toPrioritizeable(v, getPriority)));\n        }\n        const value = await rawValue;\n        const priority = await getPriority(value);\n        return { priority, value };\n    }\n    Prioritizeable.toPrioritizeable = toPrioritizeable;\n    function toPrioritizeableSync(rawValue, getPriority) {\n        return rawValue.map(v => ({\n            value: v,\n            priority: getPriority(v)\n        }));\n    }\n    Prioritizeable.toPrioritizeableSync = toPrioritizeableSync;\n    function prioritizeAllSync(values, getPriority) {\n        const prioritizeable = toPrioritizeableSync(values, getPriority);\n        return prioritizeable.filter(isValid).sort(compare);\n    }\n    Prioritizeable.prioritizeAllSync = prioritizeAllSync;\n    async function prioritizeAll(values, getPriority) {\n        const prioritizeable = await toPrioritizeable(values, getPriority);\n        return prioritizeable.filter(isValid).sort(compare);\n    }\n    Prioritizeable.prioritizeAll = prioritizeAll;\n    function isValid(p) {\n        return p.priority > 0;\n    }\n    Prioritizeable.isValid = isValid;\n    function compare(p, p2) {\n        return p2.priority - p.priority;\n    }\n    Prioritizeable.compare = compare;\n})(Prioritizeable = exports.Prioritizeable || (exports.Prioritizeable = {}));\n//# sourceMappingURL=prioritizeable.js.map","\"use strict\";\n// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unreachable = exports.nullToUndefined = exports.isStringArray = exports.isArray = exports.isUndefined = exports.isObject = exports.isFunction = exports.isErrorLike = exports.isError = exports.isNumber = exports.isString = exports.isBoolean = exports.Prioritizeable = exports.ArrayUtils = void 0;\nvar array_utils_1 = require(\"./array-utils\");\nObject.defineProperty(exports, \"ArrayUtils\", { enumerable: true, get: function () { return array_utils_1.ArrayUtils; } });\nvar prioritizeable_1 = require(\"./prioritizeable\");\nObject.defineProperty(exports, \"Prioritizeable\", { enumerable: true, get: function () { return prioritizeable_1.Prioritizeable; } });\nfunction isBoolean(value) {\n    return value === true || value === false;\n}\nexports.isBoolean = isBoolean;\nfunction isString(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.isString = isString;\nfunction isNumber(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.isNumber = isNumber;\nfunction isError(value) {\n    return value instanceof Error;\n}\nexports.isError = isError;\nfunction isErrorLike(value) {\n    return isObject(value) && isString(value.name) && isString(value.message) && (isUndefined(value.stack) || isString(value.stack));\n}\nexports.isErrorLike = isErrorLike;\n// eslint-disable-next-line space-before-function-paren\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\nexports.isFunction = isFunction;\nfunction isObject(value) {\n    // eslint-disable-next-line no-null/no-null\n    return typeof value === 'object' && value !== null;\n}\nexports.isObject = isObject;\nfunction isUndefined(value) {\n    return typeof value === 'undefined';\n}\nexports.isUndefined = isUndefined;\n/**\n * @param value value to check.\n * @param every optional predicate ran on every element of the array.\n * @param thisArg value to substitute `this` with when invoking in the predicate.\n * @returns whether or not `value` is an array.\n */\nfunction isArray(value, every, thisArg) {\n    return Array.isArray(value) && (!isFunction(every) || value.every(every, thisArg));\n}\nexports.isArray = isArray;\nfunction isStringArray(value) {\n    return isArray(value, isString);\n}\nexports.isStringArray = isStringArray;\n/**\n * Creates a shallow copy with all ownkeys of the original object that are `null` made `undefined`\n */\nfunction nullToUndefined(nullable) {\n    const undefinable = Object.assign({}, nullable);\n    for (const key in nullable) {\n        // eslint-disable-next-line no-null/no-null\n        if (nullable[key] === null && Object.prototype.hasOwnProperty.call(nullable, key)) {\n            undefinable[key] = undefined;\n        }\n    }\n    return undefinable;\n}\nexports.nullToUndefined = nullToUndefined;\n/**\n * Throws when called and statically makes sure that all variants of a type were consumed.\n */\nfunction unreachable(_never, message = 'unhandled case') {\n    throw new Error(message);\n}\nexports.unreachable = unreachable;\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.preload = void 0;\n// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n//\nconst disposable_1 = require(\"../common/disposable\");\nconst electron_api_1 = require(\"../electron-common/electron-api\");\n// eslint-disable-next-line import/no-extraneous-dependencies\nconst { ipcRenderer, contextBridge } = require('electron');\n// a map of menuId => map<handler id => handler>\nconst commandHandlers = new Map();\nlet nextHandlerId = 0;\nconst mainMenuId = 0;\nlet nextMenuId = mainMenuId + 1;\nfunction convertMenu(menu, handlerMap) {\n    if (!menu) {\n        return undefined;\n    }\n    return menu.map(item => {\n        let handlerId = undefined;\n        if (item.execute) {\n            handlerId = nextHandlerId++;\n            handlerMap.set(handlerId, item.execute);\n        }\n        return {\n            id: item.id,\n            submenu: convertMenu(item.submenu, handlerMap),\n            accelerator: item.accelerator,\n            label: item.label,\n            handlerId: handlerId,\n            checked: item.checked,\n            enabled: item.enabled,\n            role: item.role,\n            type: item.type,\n            visible: item.visible\n        };\n    });\n}\nconst api = {\n    setMenuBarVisible: (visible, windowName) => ipcRenderer.send(electron_api_1.CHANNEL_SET_MENU_BAR_VISIBLE, visible, windowName),\n    setMenu: (menu) => {\n        commandHandlers.delete(mainMenuId);\n        const handlers = new Map();\n        commandHandlers.set(mainMenuId, handlers);\n        ipcRenderer.send(electron_api_1.CHANNEL_SET_MENU, mainMenuId, convertMenu(menu, handlers));\n    },\n    getSecurityToken: () => ipcRenderer.invoke(electron_api_1.CHANNEL_GET_SECURITY_TOKEN),\n    focusWindow: (name) => ipcRenderer.send(electron_api_1.CHANNEL_FOCUS_WINDOW, name),\n    showItemInFolder: fsPath => {\n        ipcRenderer.send(electron_api_1.CHANNEL_SHOW_ITEM_IN_FOLDER, fsPath);\n    },\n    attachSecurityToken: (endpoint) => ipcRenderer.invoke(electron_api_1.CHANNEL_ATTACH_SECURITY_TOKEN, endpoint),\n    popup: async function (menu, x, y, onClosed) {\n        const menuId = nextMenuId++;\n        const handlers = new Map();\n        commandHandlers.set(menuId, handlers);\n        const handle = await ipcRenderer.invoke(electron_api_1.CHANNEL_OPEN_POPUP, menuId, convertMenu(menu, handlers), x, y);\n        const closeListener = () => {\n            ipcRenderer.removeListener(electron_api_1.CHANNEL_ON_CLOSE_POPUP, closeListener);\n            commandHandlers.delete(menuId);\n            onClosed();\n        };\n        ipcRenderer.on(electron_api_1.CHANNEL_ON_CLOSE_POPUP, closeListener);\n        return handle;\n    },\n    closePopup: function (handle) {\n        ipcRenderer.send(electron_api_1.CHANNEL_CLOSE_POPUP, handle);\n    },\n    getTitleBarStyleAtStartup: function () {\n        return ipcRenderer.invoke(electron_api_1.CHANNEL_GET_TITLE_STYLE_AT_STARTUP);\n    },\n    setTitleBarStyle: function (style) {\n        ipcRenderer.send(electron_api_1.CHANNEL_SET_TITLE_STYLE, style);\n    },\n    minimize: function () {\n        ipcRenderer.send(electron_api_1.CHANNEL_MINIMIZE);\n    },\n    isMaximized: function () {\n        return ipcRenderer.sendSync(electron_api_1.CHANNEL_IS_MAXIMIZED);\n    },\n    maximize: function () {\n        ipcRenderer.send(electron_api_1.CHANNEL_MAXIMIZE);\n    },\n    unMaximize: function () {\n        ipcRenderer.send(electron_api_1.CHANNEL_UNMAXIMIZE);\n    },\n    close: function () {\n        ipcRenderer.send(electron_api_1.CHANNEL_CLOSE);\n    },\n    onWindowEvent: function (event, handler) {\n        const h = (_event, evt) => {\n            if (event === evt) {\n                handler();\n            }\n        };\n        ipcRenderer.on(electron_api_1.CHANNEL_ON_WINDOW_EVENT, h);\n        return disposable_1.Disposable.create(() => ipcRenderer.off(electron_api_1.CHANNEL_ON_WINDOW_EVENT, h));\n    },\n    setCloseRequestHandler: function (handler) {\n        ipcRenderer.on(electron_api_1.CHANNEL_REQUEST_CLOSE, async (event, stopReason, confirmChannel, cancelChannel) => {\n            try {\n                if (await handler(stopReason)) {\n                    event.sender.send(confirmChannel);\n                    return;\n                }\n                ;\n            }\n            catch (e) {\n                console.warn('exception in close handler ', e);\n            }\n            event.sender.send(cancelChannel);\n        });\n    },\n    toggleDevTools: function () {\n        ipcRenderer.send(electron_api_1.CHANNEL_TOGGLE_DEVTOOLS);\n    },\n    getZoomLevel: function () {\n        return ipcRenderer.invoke(electron_api_1.CHANNEL_GET_ZOOM_LEVEL);\n    },\n    setZoomLevel: function (desired) {\n        ipcRenderer.send(electron_api_1.CHANNEL_SET_ZOOM_LEVEL, desired);\n    },\n    isFullScreenable: function () {\n        return ipcRenderer.sendSync(electron_api_1.CHANNEL_IS_FULL_SCREENABLE);\n    },\n    isFullScreen: function () {\n        return ipcRenderer.sendSync(electron_api_1.CHANNEL_IS_FULL_SCREEN);\n    },\n    toggleFullScreen: function () {\n        ipcRenderer.send(electron_api_1.CHANNEL_TOGGLE_FULL_SCREEN);\n    },\n    requestReload: () => ipcRenderer.send(electron_api_1.CHANNEL_REQUEST_RELOAD),\n    restart: () => ipcRenderer.send(electron_api_1.CHANNEL_RESTART),\n    applicationStateChanged: state => {\n        ipcRenderer.send(electron_api_1.CHANNEL_APP_STATE_CHANGED, state);\n    },\n    readClipboard() {\n        return ipcRenderer.sendSync(electron_api_1.CHANNEL_READ_CLIPBOARD);\n    },\n    writeClipboard(text) {\n        ipcRenderer.send(electron_api_1.CHANNEL_WRITE_CLIPBOARD, text);\n    },\n    onKeyboardLayoutChanged(handler) {\n        return createDisposableListener(electron_api_1.CHANNEL_KEYBOARD_LAYOUT_CHANGED, (event, layout) => { handler(layout); });\n    },\n    onData: handler => createDisposableListener(electron_api_1.CHANNEL_IPC_CONNECTION, (event, data) => { handler(data); }),\n    sendData: data => {\n        ipcRenderer.send(electron_api_1.CHANNEL_IPC_CONNECTION, data);\n    },\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction createDisposableListener(channel, handler) {\n    ipcRenderer.on(channel, handler);\n    return disposable_1.Disposable.create(() => ipcRenderer.off(channel, handler));\n}\nfunction preload() {\n    console.log('exposing theia core electron api');\n    ipcRenderer.on(electron_api_1.CHANNEL_INVOKE_MENU, (_, menuId, handlerId) => {\n        const map = commandHandlers.get(menuId);\n        if (map) {\n            const handler = map.get(handlerId);\n            if (handler) {\n                handler();\n            }\n        }\n    });\n    contextBridge.exposeInMainWorld('electronTheiaCore', api);\n}\nexports.preload = preload;\n//# sourceMappingURL=preload.js.map","\"use strict\";\n// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHANNEL_IPC_CONNECTION = exports.CHANNEL_KEYBOARD_LAYOUT_CHANGED = exports.CHANNEL_WRITE_CLIPBOARD = exports.CHANNEL_READ_CLIPBOARD = exports.CHANNEL_APP_STATE_CHANGED = exports.CHANNEL_RESTART = exports.CHANNEL_REQUEST_RELOAD = exports.CHANNEL_REQUEST_CLOSE = exports.CHANNEL_TOGGLE_FULL_SCREEN = exports.CHANNEL_IS_FULL_SCREEN = exports.CHANNEL_IS_FULL_SCREENABLE = exports.CHANNEL_SET_ZOOM_LEVEL = exports.CHANNEL_GET_ZOOM_LEVEL = exports.CHANNEL_TOGGLE_DEVTOOLS = exports.CHANNEL_ON_WINDOW_EVENT = exports.CHANNEL_UNMAXIMIZE = exports.CHANNEL_IS_MAXIMIZED = exports.CHANNEL_MAXIMIZE = exports.CHANNEL_MINIMIZE = exports.CHANNEL_CLOSE = exports.CHANNEL_SET_TITLE_STYLE = exports.CHANNEL_GET_TITLE_STYLE_AT_STARTUP = exports.CHANNEL_ATTACH_SECURITY_TOKEN = exports.CHANNEL_SHOW_ITEM_IN_FOLDER = exports.CHANNEL_SHOW_SAVE = exports.CHANNEL_SHOW_OPEN = exports.CHANNEL_FOCUS_WINDOW = exports.CHANNEL_GET_SECURITY_TOKEN = exports.CHANNEL_CLOSE_POPUP = exports.CHANNEL_ON_CLOSE_POPUP = exports.CHANNEL_OPEN_POPUP = exports.CHANNEL_INVOKE_MENU = exports.CHANNEL_SET_MENU_BAR_VISIBLE = exports.CHANNEL_SET_MENU = void 0;\nexports.CHANNEL_SET_MENU = 'SetMenu';\nexports.CHANNEL_SET_MENU_BAR_VISIBLE = 'SetMenuBarVisible';\nexports.CHANNEL_INVOKE_MENU = 'InvokeMenu';\nexports.CHANNEL_OPEN_POPUP = 'OpenPopup';\nexports.CHANNEL_ON_CLOSE_POPUP = 'OnClosePopup';\nexports.CHANNEL_CLOSE_POPUP = 'ClosePopup';\nexports.CHANNEL_GET_SECURITY_TOKEN = 'GetSecurityToken';\nexports.CHANNEL_FOCUS_WINDOW = 'FocusWindow';\nexports.CHANNEL_SHOW_OPEN = 'ShowOpenDialog';\nexports.CHANNEL_SHOW_SAVE = 'ShowSaveDialog';\nexports.CHANNEL_SHOW_ITEM_IN_FOLDER = 'ShowItemInFolder';\nexports.CHANNEL_ATTACH_SECURITY_TOKEN = 'AttachSecurityToken';\nexports.CHANNEL_GET_TITLE_STYLE_AT_STARTUP = 'GetTitleStyleAtStartup';\nexports.CHANNEL_SET_TITLE_STYLE = 'SetTitleStyle';\nexports.CHANNEL_CLOSE = 'Close';\nexports.CHANNEL_MINIMIZE = 'Minimize';\nexports.CHANNEL_MAXIMIZE = 'Maximize';\nexports.CHANNEL_IS_MAXIMIZED = 'IsMaximized';\nexports.CHANNEL_UNMAXIMIZE = 'UnMaximize';\nexports.CHANNEL_ON_WINDOW_EVENT = 'OnWindowEvent';\nexports.CHANNEL_TOGGLE_DEVTOOLS = 'ToggleDevtools';\nexports.CHANNEL_GET_ZOOM_LEVEL = 'GetZoomLevel';\nexports.CHANNEL_SET_ZOOM_LEVEL = 'SetZoomLevel';\nexports.CHANNEL_IS_FULL_SCREENABLE = 'IsFullScreenable';\nexports.CHANNEL_IS_FULL_SCREEN = 'IsFullScreen';\nexports.CHANNEL_TOGGLE_FULL_SCREEN = 'ToggleFullScreen';\nexports.CHANNEL_REQUEST_CLOSE = 'RequestClose';\nexports.CHANNEL_REQUEST_RELOAD = 'RequestReload';\nexports.CHANNEL_RESTART = 'Restart';\nexports.CHANNEL_APP_STATE_CHANGED = 'ApplicationStateChanged';\nexports.CHANNEL_READ_CLIPBOARD = 'ReadClipboard';\nexports.CHANNEL_WRITE_CLIPBOARD = 'WriteClipboard';\nexports.CHANNEL_KEYBOARD_LAYOUT_CHANGED = 'KeyboardLayoutChanged';\nexports.CHANNEL_IPC_CONNECTION = 'IpcConnection';\n//# sourceMappingURL=electron-api.js.map","module.exports = require('electron');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.preload = void 0;\n// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\nconst electron_api_1 = require(\"../electron-common/electron-api\");\n// eslint-disable-next-line import/no-extraneous-dependencies\nconst electron_1 = require(\"@theia/core/electron-shared/electron\");\nconst api = {\n    showOpenDialog: (options) => electron_1.ipcRenderer.invoke(electron_api_1.CHANNEL_SHOW_OPEN, options),\n    showSaveDialog: (options) => electron_1.ipcRenderer.invoke(electron_api_1.CHANNEL_SHOW_SAVE, options),\n};\nfunction preload() {\n    console.log('exposing theia filesystem electron api');\n    electron_1.contextBridge.exposeInMainWorld('electronTheiaFilesystem', api);\n}\nexports.preload = preload;\n//# sourceMappingURL=preload.js.map","\"use strict\";\n// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHANNEL_SHOW_SAVE = exports.CHANNEL_SHOW_OPEN = void 0;\nexports.CHANNEL_SHOW_OPEN = 'ShowOpenDialog';\nexports.CHANNEL_SHOW_SAVE = 'ShowSaveDialog';\n//# sourceMappingURL=electron-api.js.map","module.exports = require(\"electron\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// @ts-check\n\nrequire('@theia/core/lib/electron-browser/preload').preload();\nrequire('@theia/filesystem/lib/electron-browser/preload').preload();\n"],"names":[],"sourceRoot":""}