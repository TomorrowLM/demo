# 开发规范

## 后端

```
//message提示
{
    code:'',
    data:{},
    message:''
}
```

- 参数类型：json 对象，application/x-www-form-urlencoded

- 常用值定义：
  - 状态(0 开启，1 关闭)
- table 表格传参格式定义，页数，页码

- 校验方式：后端校验，前端 message 展示。

- 错误码规范

- 增删改查 code 码，获取表格数据和操作成功的数据返回的 code 码需要不一致，这样就可以统一的在 axios 中去 message 了

## 前端

### 分支

- 开发同一个组件，需要协调同步，防止代码冲突

### 开发

- 开发规范
  - 每个页面需要注释这个页面的作用，方法的作用
  - api 接口方法用/\*\*/注释，才有提示
  - 注意后期的维护
- 代码规范
  - 生命周期，布尔值放在开头
  - 循环数据过多，不要用框架带的组件，用原生的标签。
- 接口规范
  - 提前和后端定义好数据格式，不然前端写好再去联调，参数不一致加大开发成本
  - 重复请求：加节流
  - 定义好一些下拉框数据是前端保存还是后端数据库保存
- 表单
  - 表单校验，哪些是必填，提示信息是什么
  - 提交成功后需要清空表单数据
  - 弹框中表单提交成功后，需要关闭弹框
- table
  - 查询时页码要置为 1
  - 修改条数时页码要置为 1
- 逻辑

  - 增删改要加提示信息
  - tab 切换，查询条件需要重置
  - 按钮请求 loading（写个公共模块）
  - 某些按钮需要根据状态启用和禁用
  - 操作成功后，是否需要刷新 table
  - 注意修改某个地方之后，其他地方是否需要同步修改，最好是能去再走一遍流程
  - 添加需求或者某个逻辑的时候要思考一下是否合理。

- 回显

  - 树的回显

- 组件
  - 可维护性，可扩展性
  - 写代码的时候需要注意，多个页面会有公共的模块可以提出来
  - 拒绝同一个业务写多个组件，统一用一个语法，一个组件，同一个图片。防止后期维护他人代码时，影响效率
- 注意判断条件，前因后果是否符合逻辑
- 操作表格，是否能分页操作。eg： 表格选择框能选择第二页的数据

- 当后端没有返回值或者返回是空的话，页面展示什么

### 兼容性

- 系统权限
- 版本

### tip

- **注意需要根据用户账号去保持状态**

- 前期调研，是否需要根据需求做公共组件

- 容器超过高度滚动展示

- 网络，接口中断，应该展示什么

- 代码报错是否用 try,catch 去 message 出来。防止操作不报错也不反应

- 是否保持刷新前的状态

  - 树形结构，路由是否直接跳转到指定树形 id 下的页面（配置路由 hash）
