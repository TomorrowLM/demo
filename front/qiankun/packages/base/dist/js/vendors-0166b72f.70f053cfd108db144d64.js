"use strict";(self.webpackChunkqiankun=self.webpackChunkqiankun||[]).push([[869],{3644:(n,e,t)=>{t.d(e,{DA:()=>wn,Yx:()=>An,ni:()=>xn});var r=t(467),o=t(3950),a=t.n(o),c=t(3986),u=t(5458),i=t(2284),s=t(9379),f=t(4756),l=t.n(f),p=t(7917),d=t(2078),w=t.n(d),v=t(6924),h=t.n(v),m=t(9754),A=t.n(m),x=t(5575),b=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;function g(n,e){return h()({},function(n){return{beforeLoad:function(){return(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.__POWERED_BY_QIANKUN__=!0;case 1:case"end":return e.stop()}}),e)})))()},beforeMount:function(){return(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.__POWERED_BY_QIANKUN__=!0;case 1:case"end":return e.stop()}}),e)})))()},beforeUnmount:function(){return(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete n.__POWERED_BY_QIANKUN__;case 1:case"end":return e.stop()}}),e)})))()}}}(n),function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",t=!1;return{beforeLoad:function(){return(0,r.A)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.__INJECTED_PUBLIC_PATH_BY_QIANKUN__=e;case 1:case"end":return t.stop()}}),t)})))()},beforeMount:function(){return(0,r.A)(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t&&(n.__INJECTED_PUBLIC_PATH_BY_QIANKUN__=e);case 1:case"end":return r.stop()}}),r)})))()},beforeUnmount:function(){return(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===b?delete n.__INJECTED_PUBLIC_PATH_BY_QIANKUN__:n.__INJECTED_PUBLIC_PATH_BY_QIANKUN__=b,t=!0;case 2:case"end":return e.stop()}}),e)})))()}}}(n,e),(function(n,e){return w()(null!=n?n:[],null!=e?e:[])}))}var y=t(2901),_=t(3029),k=t(5501),E=t(2923),S=function(n){(0,k.A)(t,n);var e=(0,E.A)(t);function t(n){return(0,_.A)(this,t),e.call(this,"[qiankun]: ".concat(n))}return(0,y.A)(t)}((0,t(3437).A)(Error)),C=t(4467),P=t(8055),I=t.n(P),N={},T={};function L(n,e){return{onGlobalStateChange:function(e,t){if(e instanceof Function){if(T[n]&&console.warn("[qiankun] '".concat(n,"' global listener already exists before this, new listener will overwrite it.")),T[n]=e,t){var r=I()(N);e(r,r)}}else console.error("[qiankun] callback must be function!")},setGlobalState:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n===N)return console.warn("[qiankun] state has not changed！"),!1;var t=[],r=I()(N);return N=I()(Object.keys(n).reduce((function(r,o){return e||r.hasOwnProperty(o)?(t.push(o),Object.assign(r,(0,C.A)({},o,n[o]))):(console.warn("[qiankun] '".concat(o,"' not declared when init state！")),r)}),N)),0===t.length?(console.warn("[qiankun] state has not changed！"),!1):(function(n,e){Object.keys(T).forEach((function(t){T[t]instanceof Function&&T[t](I()(n),I()(e))}))}(N,r),!0)},offGlobalStateChange:function(){return delete T[n],!0}}}var M=t(3641),U=t(9643),q=t(5876),B=t(7087),D=["singular","sandbox","excludeAssetFilter","globalContext"];function j(n,e){if(!n){if(e)throw new S(e);throw new S("element not existed!")}}function O(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return n.length?n.reduce((function(n,r){return n.then((function(){return r(e,t)}))}),Promise.resolve()):Promise.resolve()}function R(n,e){return Y.apply(this,arguments)}function Y(){return(Y=(0,r.A)(l().mark((function n(e,t){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return","function"==typeof e?e(t):!!e);case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var H=!!document.head.attachShadow||!!document.head.createShadowRoot;function G(n,e,t,r){var o=document.createElement("div");o.innerHTML=n;var a=o.firstChild;if(e)if(H){var c=a.innerHTML;a.innerHTML="",(a.attachShadow?a.attachShadow({mode:"open"}):a.createShadowRoot()).innerHTML=c}else console.warn("[qiankun]: As current browser not support shadow dom, your strictStyleIsolation configuration will be ignored!");if(t){a.getAttribute(M.WU)||a.setAttribute(M.WU,r);var u=a.querySelectorAll("style")||[];A()(u,(function(n){M.eh(a,n,r)}))}return a}function K(n,e,t,r,o){return function(){if(e){if(t)throw new S("strictStyleIsolation can not be used with legacy render!");if(r)throw new S("experimentalStyleIsolation can not be used with legacy render!");var a=document.getElementById((0,B.v2)(n));return j(a,"Wrapper element for ".concat(n," is not existed!")),a}var c=o();return j(c,"Wrapper element for ".concat(n," is not existed!")),t&&H?c.shadowRoot:c}}var Q,W=HTMLElement.prototype.appendChild,$=HTMLElement.prototype.removeChild;function J(n,e,t){return function(r,o){var a=r.element,c=r.loading,u=r.container;if(t)return t({loading:c,appContent:a?e:""});var i=(0,B.My)(u);if("unmounted"!==o&&j(i,function(){switch(o){case"loading":case"mounting":return"Target container with ".concat(u," not existed while ").concat(n," ").concat(o,"!");case"mounted":return"Target container with ".concat(u," not existed after ").concat(n," ").concat(o,"!");default:return"Target container with ".concat(u," not existed while ").concat(n," rendering!")}}()),i&&!i.contains(a)){for(;i.firstChild;)$.call(i,i.firstChild);a&&W.call(i,a)}}}function F(n,e,t,r){if((0,B.je)(n))return n;if(r){var o=t[r];if((0,B.je)(o))return o}var a=t[e];if((0,B.je)(a))return a;throw new S("You need to export lifecycle functions in ".concat(e," entry"))}function V(n){return X.apply(this,arguments)}function X(){return X=(0,r.A)(l().mark((function n(e){var t,o,a,u,f,p,d,v,m,A,b,y,_,k,E,S,C,P,I,N,T,M,j,Y,H,W,$,V,X,z,Z,nn,en,tn,rn,on,an,cn,un,sn,fn,ln,pn,dn,wn,vn,hn,mn,An,xn,bn,gn,yn,_n,kn,En,Sn,Cn=arguments;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Cn.length>1&&void 0!==Cn[1]?Cn[1]:{},u=Cn.length>2?Cn[2]:void 0,f=e.entry,p=e.name,d=(0,B.uM)(p),"[qiankun] App ".concat(d," Loading"),v=a.singular,m=void 0!==v&&v,A=a.sandbox,b=void 0===A||A,y=a.excludeAssetFilter,_=a.globalContext,k=void 0===_?window:_,E=(0,c.A)(a,D),n.next=9,(0,x.O4)(f,E);case 9:return S=n.sent,C=S.template,P=S.execScripts,I=S.assetPublicPath,N=S.getExternalScripts,n.next=16,N();case 16:return n.next=18,R(m,e);case 18:if(!n.sent){n.next=21;break}return n.next=21,Q&&Q.promise;case 21:return T=(0,B.$E)(d,b)(C),M="object"===(0,i.A)(b)&&!!b.strictStyleIsolation,j=(0,B.xA)(b),Y=G(T,M,j,d),H="container"in e?e.container:void 0,W="render"in e?e.render:void 0,($=J(d,T,W))({element:Y,loading:!0,container:H},"loading"),V=K(d,!!W,M,j,(function(){return Y})),X=k,z=function(){return Promise.resolve()},Z=function(){return Promise.resolve()},nn="object"===(0,i.A)(b)&&!!b.loose,en="object"!==(0,i.A)(b)||!1!==b.speedy,b&&(tn=(0,U.hB)(d,V,j,nn,y,X,en),X=tn.instance.proxy,z=tn.mount,Z=tn.unmount),rn=h()({},g(X,I),u,(function(n,e){return w()(null!=n?n:[],null!=e?e:[])})),on=rn.beforeUnmount,an=void 0===on?[]:on,cn=rn.afterUnmount,un=void 0===cn?[]:cn,sn=rn.afterMount,fn=void 0===sn?[]:sn,ln=rn.beforeMount,pn=void 0===ln?[]:ln,dn=rn.beforeLoad,wn=void 0===dn?[]:dn,n.next=40,O((0,B.$r)(wn),e,X);case 40:return n.next=42,P(X,b&&!nn,{scopedGlobalVariables:en?q.L:[]});case 42:return vn=n.sent,hn=F(vn,p,X,null===(t=tn)||void 0===t||null===(o=t.instance)||void 0===o?void 0:o.latestSetProp),mn=hn.bootstrap,An=hn.mount,xn=hn.unmount,bn=hn.update,gn=L(d),yn=gn.onGlobalStateChange,_n=gn.setGlobalState,kn=gn.offGlobalStateChange,En=function(n){return Y=n},Sn=function(){var n,t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,a={name:d,bootstrap:mn,mount:[(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case 1:case"end":return n.stop()}}),n)}))),(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R(m,e);case 2:if(n.t0=n.sent,!n.t0){n.next=5;break}n.t0=Q;case 5:if(!n.t0){n.next=7;break}return n.abrupt("return",Q.promise);case 7:return n.abrupt("return",void 0);case 8:case"end":return n.stop()}}),n)}))),(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Y,t=K(d,!!W,M,j,(function(){return n}));case 2:case"end":return e.stop()}}),e)}))),(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!(o!==H)&&n||(n=G(T,M,j,d),En(n)),$({element:n,loading:!0,container:o},"mounting");case 3:case"end":return e.stop()}}),e)}))),z,(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",O((0,B.$r)(pn),e,X));case 1:case"end":return n.stop()}}),n)}))),function(){var n=(0,r.A)(l().mark((function n(e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",An((0,s.A)((0,s.A)({},e),{},{container:t(),setGlobalState:_n,onGlobalStateChange:yn})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$({element:n,loading:!1,container:o},"mounted"));case 1:case"end":return e.stop()}}),e)}))),(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",O((0,B.$r)(fn),e,X));case 1:case"end":return n.stop()}}),n)}))),(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R(m,e);case 2:if(!n.sent){n.next=4;break}Q=new B.cY;case 4:case"end":return n.stop()}}),n)}))),(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case 1:case"end":return n.stop()}}),n)})))],unmount:[(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",O((0,B.$r)(an),e,X));case 1:case"end":return n.stop()}}),n)}))),function(){var n=(0,r.A)(l().mark((function n(e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",xn((0,s.A)((0,s.A)({},e),{},{container:t()})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Z,(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",O((0,B.$r)(un),e,X));case 1:case"end":return n.stop()}}),n)}))),(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$({element:null,loading:!1,container:o},"unmounted"),kn(d),En(n=null);case 4:case"end":return e.stop()}}),e)}))),(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R(m,e);case 2:if(n.t0=n.sent,!n.t0){n.next=5;break}n.t0=Q;case 5:if(!n.t0){n.next=7;break}Q.resolve();case 7:case"end":return n.stop()}}),n)})))]};return"function"==typeof bn&&(a.update=bn),a},n.abrupt("return",Sn);case 48:case"end":return n.stop()}}),n)}))),X.apply(this,arguments)}var z,Z=t(1882),nn=t.n(Z);function en(n,e){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}if(void 0!==window.requestIdleCallback)z=window.requestIdleCallback;else if(void 0!==window.MessageChannel){var tn=new MessageChannel,rn=tn.port2,on=[];tn.port1.onmessage=function(n){var e=n.data,t=on.shift();t&&en(t,e.start)},z=function(n){on.push(n),rn.postMessage({start:Date.now()})}}else z=function(n){return setTimeout(en,0,n,Date.now())};var an=!!navigator.connection&&(navigator.connection.saveData||"wifi"!==navigator.connection.type&&"ethernet"!==navigator.connection.type&&/([23])g/.test(navigator.connection.effectiveType));function cn(n,e){navigator.onLine&&!an&&z((0,r.A)(l().mark((function t(){var r,o,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.O4)(n,e);case 2:r=t.sent,o=r.getExternalScripts,a=r.getExternalStyleSheets,z(a),z(o);case 7:case"end":return t.stop()}}),t)}))))}function un(n,e){window.addEventListener("single-spa:first-mount",(function t(){n.filter((function(n){return(0,p.MT)(n.name)===p.EM})).forEach((function(n){return cn(n.entry,e)})),window.removeEventListener("single-spa:first-mount",t)}))}function sn(n,e){n.forEach((function(n){return cn(n.entry,e)}))}var fn=["name","activeRule","loader","props"],ln=["mount"],pn=["prefetch","urlRerouteOnly"],dn=[],wn={},vn=!0,hn=new B.cY,mn=function(n){var e=n.sandbox,t=void 0===e||e,r=n.singular;if(t){if(!window.Proxy)return console.warn("[qiankun] Missing window.Proxy, proxySandbox will degenerate into snapshotSandbox"),!1===r&&console.warn("[qiankun] Setting singular as false may cause unexpected behavior while your browser not support window.Proxy"),(0,s.A)((0,s.A)({},n),{},{sandbox:"object"===(0,i.A)(t)?(0,s.A)((0,s.A)({},t),{},{loose:!0}):{loose:!0}});if(!(0,B.XE)()&&(!0===t||"object"===(0,i.A)(t)&&!1!==t.speedy))return console.warn("[qiankun] Speedy mode will turn off as const destruct assignment not supported in current browser!"),(0,s.A)((0,s.A)({},n),{},{sandbox:"object"===(0,i.A)(t)?(0,s.A)((0,s.A)({},t),{},{speedy:!1}):{speedy:!1}})}return n};function An(n,e){var t=n.filter((function(n){return!dn.some((function(e){return e.name===n.name}))}));dn=[].concat((0,u.A)(dn),(0,u.A)(t)),t.forEach((function(n){var t,o=n.name,i=n.activeRule,f=n.loader,d=void 0===f?a():f,w=n.props,v=(0,c.A)(n,fn);(0,p.AG)({name:o,app:(t=(0,r.A)(l().mark((function n(){var t,a,i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d(!0),n.next=3,hn.promise;case 3:return n.next=5,V((0,s.A)({name:o,props:w},v),wn,e);case 5:return n.t0=n.sent,t=(0,n.t0)(),a=t.mount,i=(0,c.A)(t,ln),n.abrupt("return",(0,s.A)({mount:[(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",d(!0));case 1:case"end":return n.stop()}}),n)})))].concat((0,u.A)((0,B.$r)(a)),[(0,r.A)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",d(!1));case 1:case"end":return n.stop()}}),n)})))])},i));case 10:case"end":return n.stop()}}),n)}))),function(){return t.apply(this,arguments)}),activeWhen:i,customProps:w})}))}function xn(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=wn=(0,s.A)({prefetch:!0,singular:!0,sandbox:!0},n),t=e.prefetch,o=e.urlRerouteOnly,a=void 0===o?vn:o,u=(0,c.A)(e,pn);t&&function(n,e,t){var o=function(e){return n.filter((function(n){return e.includes(n.name)}))};if(Array.isArray(e))un(o(e),t);else if(nn()(e))(0,r.A)(l().mark((function r(){var a,c,u,i,s;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(n);case 2:a=r.sent,c=a.criticalAppNames,u=void 0===c?[]:c,i=a.minorAppsName,s=void 0===i?[]:i,sn(o(u),t),un(o(s),t);case 9:case"end":return r.stop()}}),r)})))();else switch(e){case!0:un(n,t);break;case"all":sn(n,t)}}(dn,t,u),wn=mn(wn),(0,p.ni)({urlRerouteOnly:a}),hn.resolve()}new Map,new Map},4287:(n,e,t)=>{var r;t.d(e,{I:()=>r}),function(n){n.Proxy="Proxy",n.Snapshot="Snapshot",n.LegacyProxy="LegacyProxy"}(r||(r={}))}}]);
//# sourceMappingURL=vendors-0166b72f.70f053cfd108db144d64.js.map