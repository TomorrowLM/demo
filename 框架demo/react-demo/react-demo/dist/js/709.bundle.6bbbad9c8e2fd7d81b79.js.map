{"version":3,"file":"js/709.bundle.6bbbad9c8e2fd7d81b79.js","mappings":"2JAQe,SAAaA,GAC1B,IAAMC,GAAa,IAAAC,iBAAe,WAChC,OACE,+BAAKC,UAAU,cACb,wBAAC,EAAAC,aAAD,CAAcC,MAAO,CAACC,SAAS,UAC/B,qDAIN,OACE,mCACE,+BAAKD,MAAO,CAAEE,MAAO,QAASC,OAAQ,QAASC,WAAY,QACxDT,EAAIA,KAEP,mCACE,wBAACC,EAAD,SAvBR,I,OAAA,W,2BACA,WACA,Y,2ECGe,SAAuBS,GACpC,IAAMC,GAAwB,IAAAC,oBAAkB,gBAAGC,EAAH,EAAGA,SAAH,OAC9C,+BACEV,UAAU,OACVE,MAAO,CAAES,QAAS,OAAQC,eAAgB,iBAEzCF,MAMCG,GAAc,IAAAC,kBAAgB,gBAAGjB,EAAH,EAAGA,IAAH,OAAa,wBAAC,UAAD,CAAKkB,IAAKlB,EAAKA,IAAKA,OAZzB,E,2YAAA,EAapB,IAAAmB,UAAS,CAAC,EAAG,EAAG,IAbI,GAarCC,EAbqC,KAa/BC,EAb+B,KAkB5C,OACE,mCACE,wBAACV,EAAD,CACEW,KAAK,IACLC,UARY,SAAC,GAA2B,IAAzBC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC7BC,QAAQC,IAAIH,GAAU,IAAAI,oBAAmBR,EAAMI,EAAW,EAAGC,EAAW,IACxEJ,GAAQ,IAAAO,oBAAmBR,EAAMI,EAAUC,KAOvCI,mBAAmB,EACnBC,eAAA,GAECV,EAAKW,KAAI,SAAC/B,EAAKgC,GACd,OACE,wBAAChB,EAAD,CAEEiB,MAAOD,EACPd,IAAKc,EACLhC,IAAKA,UArCnB,eACA,W,IACA,UACA,W,4ECHO,SAASkC,EAAiBC,EAAOC,EAAWC,GAClD,MAAMC,EAAaF,EAAY,EAAID,EAAMI,OAASH,EAAYA,EAE9D,GAAIE,GAAc,GAAKA,EAAaH,EAAMI,OAAQ,CACjD,MAAMC,EAAWH,EAAU,EAAIF,EAAMI,OAASF,EAAUA,GAEjDI,GAAQN,EAAMO,OAAON,EAAW,GACvCD,EAAMO,OAAOF,EAAU,EAAGC,IAIrB,SAASb,EAAmBO,EAAOC,EAAWC,GAGpD,OADAH,EADAC,EAAQ,IAAIA,GACYC,EAAWC,GAC5BF,E","sources":["webpack://demo/./src/view/SpecialEffects/ReactSortable/Gif.jsx","webpack://demo/./src/view/SpecialEffects/ReactSortable/index.jsx","webpack://demo/./node_modules/array-move/index.js"],"sourcesContent":["import React from \"react\";\r\nimport { SortableHandle } from \"react-sortable-hoc\";\r\nimport { StepForwardOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  SmileTwoTone,\r\n  HeartTwoTone,\r\n  CheckCircleTwoTone,\r\n} from \"@ant-design/icons\";\r\nexport default function Gif(gif) {\r\n  const DragHandle = SortableHandle(() => {\r\n    return (\r\n      <div className=\"icons-list\">\r\n        <SmileTwoTone style={{fontSize:\"30px\"}}/>\r\n        <p>请拖动上面的图标切换位置</p>\r\n      </div>\r\n    );\r\n  });\r\n  return (\r\n    <div>\r\n      <div style={{ width: \"200px\", height: \"200px\", background: \"red\" }}>\r\n        {gif.gif}\r\n      </div>\r\n      <div>\r\n        <DragHandle />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { SortableContainer, SortableElement } from \"react-sortable-hoc\";\r\nimport { arrayMoveImmutable } from \"array-move\";\r\nimport Gif from \"./Gif\";\r\nimport React, { useState } from \"react\";\r\n\r\nexport default function ReactSortable(params) {\r\n  const SortableGifsContainer = SortableContainer(({ children }) => (\r\n    <div\r\n      className=\"gifs\"\r\n      style={{ display: \"flex\", justifyContent: \"space-around\" }}\r\n    >\r\n      {children}\r\n    </div>\r\n  ));\r\n  //   let a = [1,2]\r\n  //   a = arrayMoveImmutable(a,0,1)\r\n  //   console.log(a)\r\n  const SortableGif = SortableElement(({ gif }) => <Gif key={gif} gif={gif} />);\r\n  const [gifs, setGifs] = useState([1, 2, 3]);\r\n  const onSortEnd = ({ oldIndex, newIndex }) => {\r\n    console.log(oldIndex, arrayMoveImmutable(gifs, oldIndex - 1, newIndex - 1));\r\n    setGifs(arrayMoveImmutable(gifs, oldIndex, newIndex));\r\n  };\r\n  return (\r\n    <div>\r\n      <SortableGifsContainer\r\n        axis=\"x\"\r\n        onSortEnd={onSortEnd}\r\n        disableAutoscroll={true}\r\n        useDragHandle //使用SortableHandle\r\n      >\r\n        {gifs.map((gif, i) => {\r\n          return (\r\n            <SortableGif\r\n              // don't forget to pass index prop with item index\r\n              index={i}\r\n              key={i}\r\n              gif={gif}\r\n            />\r\n          );\r\n        })}\r\n      </SortableGifsContainer>\r\n    </div>\r\n  );\r\n}\r\n","export function arrayMoveMutable(array, fromIndex, toIndex) {\n\tconst startIndex = fromIndex < 0 ? array.length + fromIndex : fromIndex;\n\n\tif (startIndex >= 0 && startIndex < array.length) {\n\t\tconst endIndex = toIndex < 0 ? array.length + toIndex : toIndex;\n\n\t\tconst [item] = array.splice(fromIndex, 1);\n\t\tarray.splice(endIndex, 0, item);\n\t}\n}\n\nexport function arrayMoveImmutable(array, fromIndex, toIndex) {\n\tarray = [...array];\n\tarrayMoveMutable(array, fromIndex, toIndex);\n\treturn array;\n}\n"],"names":["gif","DragHandle","SortableHandle","className","SmileTwoTone","style","fontSize","width","height","background","params","SortableGifsContainer","SortableContainer","children","display","justifyContent","SortableGif","SortableElement","key","useState","gifs","setGifs","axis","onSortEnd","oldIndex","newIndex","console","log","arrayMoveImmutable","disableAutoscroll","useDragHandle","map","i","index","arrayMoveMutable","array","fromIndex","toIndex","startIndex","length","endIndex","item","splice"],"sourceRoot":""}