<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>原生ajax-状态值得含义</title>
	<script type="text/javascript">
	window.onload = function(){
		var btn = document.getElementById('btn');
		btn.onclick = function(){
		//第一步：创建xhr对象
		var xhr = null;
		if(window.XMLHttpRequest){//标准浏览器
			xhr = new XMLHttpRequest();
		}else{//早期的IE浏览器
			xhr = new ActiveXObject('Microsoft.XMLHTTP');
		}
		var username = document .getElementById('username').value;
		var password = document.getElementById('password');
		console.log("状态q"+xhr.readyState);//0:XMLHttpRequest对象创建完成
		//第二步：准备发送请求-配置发送请求的一些行为
			var url = 'form.php?username='+encodeURIComponent(username)+'&password='+password;
		xhr.open('get',url,true);
		console.log("状态w"+xhr.readyState);//1：表示发送请求的动作准备好了，但是还没有开始发送

		//第三步：执行发送的动作
		xhr.send(null);
		console.log("状态e"+xhr.readyState);

		//第四步：指定一些回调函数
		xhr.onreadystatechange = function(){
			if(xhr.readyState == 4){
				//200页面返回成功，并获取到了正确的数据
				if(xhr.status == 200){
					var data = xhr.responseText;//json
					console.log(data);//data为echo的传的值
					// var data1 = xhr.responseXML;
					
				}
			}
			 console.log("状态t"+xhr.readyState);//2：表示已经发送完成
			//3：服务器已经返回数据
			//4：服务器返回的数据已经可以使用

		}
		console.log("状态r"+xhr.readyState);
	
		}
	}
	</script>
</head>
<body>
	<div>
		<div id="showInfo"></div>
		<form>
			用户名：<input type="text" name="username" id="username"><br>
			密码：<input type="password" name="password" id="password"><br>
			<input type="button" value="提交" id="btn">
		</form>
	</div>
	
</body>
</html>